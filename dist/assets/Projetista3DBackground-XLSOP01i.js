import{R as v,r as l,j as p}from"./index-BJDMVPWl.js";const w=({performanceConfig:n,deviceCapabilities:h,courseSlug:T})=>{const d=l.useRef(null),m=l.useRef(null),u=l.useRef([]),o=l.useMemo(()=>({gridSize:n?.particleCount>100?30:40,gridOpacity:n?.staticFallback?.3:.15,wireframeCount:Math.min(n?.particleCount||30,8),animationSpeed:n?.staticFallback?0:.5,colors:{primary:"#FF6B35",secondary:"#F7931E",accent:"#FFD23F",grid:"#FF6B35",wireframe:"#F7931E"}}),[n]);class y{constructor(e){this.canvas=e,this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.z=Math.random()*200-100,this.vx=(Math.random()-.5)*o.animationSpeed,this.vy=(Math.random()-.5)*o.animationSpeed,this.vz=(Math.random()-.5)*o.animationSpeed,this.rotationX=0,this.rotationY=0,this.rotationZ=0,this.rotationSpeed={x:(Math.random()-.5)*.02,y:(Math.random()-.5)*.02,z:(Math.random()-.5)*.02},this.type=["cube","pyramid","sphere"][Math.floor(Math.random()*3)],this.size=20+Math.random()*30,this.opacity=.3+Math.random()*.4}update(){o.animationSpeed!==0&&(this.x+=this.vx,this.y+=this.vy,this.z+=this.vz,this.rotationX+=this.rotationSpeed.x,this.rotationY+=this.rotationSpeed.y,this.rotationZ+=this.rotationSpeed.z,this.x<-50&&(this.x=this.canvas.width+50),this.x>this.canvas.width+50&&(this.x=-50),this.y<-50&&(this.y=this.canvas.height+50),this.y>this.canvas.height+50&&(this.y=-50))}draw(e){e.save(),e.translate(this.x,this.y),e.globalAlpha=this.opacity,e.strokeStyle=o.colors.wireframe,e.lineWidth=1;const t=1+this.z/500;switch(e.scale(t,t),this.type){case"cube":this.drawCube(e);break;case"pyramid":this.drawPyramid(e);break;case"sphere":this.drawSphere(e);break}e.restore()}drawCube(e){const t=this.size;e.strokeRect(-t/2,-t/2,t,t);const i=t*.3;e.beginPath(),e.moveTo(-t/2,-t/2),e.lineTo(-t/2+i,-t/2-i),e.moveTo(t/2,-t/2),e.lineTo(t/2+i,-t/2-i),e.moveTo(-t/2,t/2),e.lineTo(-t/2+i,t/2-i),e.moveTo(t/2,t/2),e.lineTo(t/2+i,t/2-i),e.moveTo(-t/2+i,-t/2-i),e.lineTo(t/2+i,-t/2-i),e.lineTo(t/2+i,t/2-i),e.lineTo(-t/2+i,t/2-i),e.closePath(),e.stroke()}drawPyramid(e){const t=this.size,i=t*.8;e.strokeRect(-t/2,t/2-i,t,i),e.beginPath(),e.moveTo(-t/2,t/2-i),e.lineTo(0,-t/2),e.moveTo(t/2,t/2-i),e.lineTo(0,-t/2),e.moveTo(-t/2,t/2),e.lineTo(0,-t/2),e.moveTo(t/2,t/2),e.lineTo(0,-t/2),e.stroke()}drawSphere(e){const t=this.size/2;e.beginPath(),e.arc(0,0,t,0,Math.PI*2),e.stroke();for(let i=1;i<3;i++){const s=t*2/3*(i-1.5),r=Math.sqrt(t*t-s*s)*2;e.beginPath(),e.ellipse(0,s,r/2,r/8,0,0,Math.PI*2),e.stroke()}e.beginPath(),e.ellipse(0,0,t/4,t,0,0,Math.PI*2),e.stroke()}}const f=a=>{a.strokeStyle=o.colors.grid,a.globalAlpha=o.gridOpacity,a.lineWidth=.5;const{width:e,height:t}=a.canvas,i=o.gridSize;a.beginPath();for(let s=-i;s<t+i;s+=i)for(let r=-i;r<e+i*2;r+=i*2)a.moveTo(r,s),a.lineTo(r+i,s+i/2);for(let s=-i;s<t+i;s+=i)for(let r=0;r<e+i*2;r+=i*2)a.moveTo(r,s),a.lineTo(r-i,s+i/2);a.stroke(),a.globalAlpha=1},g=a=>{u.current=[];for(let e=0;e<o.wireframeCount;e++)u.current.push(new y(a))},c=()=>{const a=d.current;if(!a)return;const e=a.getContext("2d");e.clearRect(0,0,a.width,a.height),f(e),u.current.forEach(t=>{t.update(),t.draw(e)}),o.animationSpeed>0&&(m.current=requestAnimationFrame(c))};return l.useEffect(()=>{const a=d.current;if(!a)return;const e=()=>{const t=a.getBoundingClientRect();a.width=t.width*(h?.pixelRatio||1),a.height=t.height*(h?.pixelRatio||1),a.getContext("2d").scale(h?.pixelRatio||1,h?.pixelRatio||1),g(a)};return e(),window.addEventListener("resize",e),c(),()=>{window.removeEventListener("resize",e),m.current&&cancelAnimationFrame(m.current)}},[o,h]),n?.staticFallback?p.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`linear-gradient(135deg, ${o.colors.primary} 0%, ${o.colors.secondary} 50%, ${o.colors.accent} 100%)`}}):p.jsx("canvas",{ref:d,className:"absolute inset-0 w-full h-full pointer-events-none",style:{background:"transparent",zIndex:5},"aria-hidden":"true"})},b=v.memo(w);export{b as default};
