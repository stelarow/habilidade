import{R as P,r as u,j as w}from"./index-DKmHA7yz.js";const F=({performanceConfig:d,deviceCapabilities:m,courseSlug:C})=>{const p=u.useRef(null),g=u.useRef(null),f=u.useRef([]),y=u.useRef([]),b=u.useRef({animationPhase:0}),a=u.useMemo(()=>({metricCount:Math.min(d?.particleCount||15,8),metricSpeed:d?.staticFallback?0:1.2,chartCount:Math.min(d?.particleCount||10,4),chartSpeed:d?.staticFallback?0:.8,dashboardSpeed:d?.staticFallback?0:.03,colors:{primary:"#FF9FF3",secondary:"#54A0FF",accent:"#5F27CD",metric:"#FF9FF3",chart:"#54A0FF",dashboard:"#5F27CD",success:"#00D2D3",warning:"#FF9F43",background:"#1A1A2E"},metrics:[{label:"CTR",value:"3.47%",trend:"up"},{label:"CPC",value:"$0.83",trend:"down"},{label:"ROI",value:"247%",trend:"up"},{label:"Conversões",value:"1,284",trend:"up"},{label:"Impressões",value:"847K",trend:"up"},{label:"Cliques",value:"29.4K",trend:"up"},{label:"CPA",value:"$12.45",trend:"down"},{label:"ROAS",value:"4.2x",trend:"up"}]}),[d]);class v{constructor(t){this.canvas=t,this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.vx=(Math.random()-.5)*a.metricSpeed,this.vy=(Math.random()-.5)*a.metricSpeed,this.opacity=.5+Math.random()*.4,this.scale=.8+Math.random()*.4,this.rotation=0,this.rotationSpeed=(Math.random()-.5)*.02,this.metric=a.metrics[Math.floor(Math.random()*a.metrics.length)],this.pulse=Math.random()*Math.PI*2,this.pulseSpeed=.03+Math.random()*.02,this.valueAnimation=0,this.animationSpeed=.05+Math.random()*.05}update(){a.metricSpeed!==0&&(this.x+=this.vx,this.y+=this.vy,this.rotation+=this.rotationSpeed,this.pulse+=this.pulseSpeed,this.valueAnimation+=this.animationSpeed,(this.x<=0||this.x>=this.canvas.width)&&(this.vx*=-.8),(this.y<=0||this.y>=this.canvas.height)&&(this.vy*=-.8),this.x=Math.max(0,Math.min(this.canvas.width,this.x)),this.y=Math.max(0,Math.min(this.canvas.height,this.y)))}draw(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scale,this.scale),t.globalAlpha=this.opacity*(.8+Math.sin(this.pulse)*.2);const i=120,s=60;t.shadowColor=this.metric.trend==="up"?a.colors.success:a.colors.warning,t.shadowBlur=15,t.fillStyle=a.colors.background+"CC",t.fillRect(-i/2,-s/2,i,s),t.strokeStyle=this.metric.trend==="up"?a.colors.success:a.colors.warning,t.lineWidth=2,t.strokeRect(-i/2,-s/2,i,s),t.font="12px Arial",t.fillStyle=a.colors.metric,t.textAlign="center",t.fillText(this.metric.label,0,-15),t.font="bold 16px Arial",t.fillStyle=this.metric.trend==="up"?a.colors.success:a.colors.warning,t.fillText(this.metric.value,0,5);const o=8;t.fillStyle=this.metric.trend==="up"?a.colors.success:a.colors.warning,t.beginPath(),this.metric.trend==="up"?(t.moveTo(-o/2,15),t.lineTo(0,8),t.lineTo(o/2,15)):(t.moveTo(-o/2,8),t.lineTo(0,15),t.lineTo(o/2,8)),t.closePath(),t.fill(),t.restore()}}class S{constructor(t){this.canvas=t,this.x=Math.random()*(t.width-200)+100,this.y=Math.random()*(t.height-150)+75,this.width=120+Math.random()*80,this.height=60+Math.random()*40,this.opacity=.3+Math.random()*.3,this.type=["bar","line","pie"][Math.floor(Math.random()*3)],this.data=Array.from({length:6},()=>Math.random()),this.animationProgress=0,this.animationSpeed=.02+Math.random()*.02,this.color=[a.colors.primary,a.colors.secondary,a.colors.accent][Math.floor(Math.random()*3)]}update(){a.chartSpeed!==0&&(this.animationProgress+=this.animationSpeed,this.animationProgress>1&&(this.animationProgress=0,this.data=Array.from({length:6},()=>Math.random())))}draw(t){switch(t.save(),t.globalAlpha=this.opacity,this.type){case"bar":this.drawBarChart(t);break;case"line":this.drawLineChart(t);break;case"pie":this.drawPieChart(t);break}t.restore()}drawBarChart(t){const i=this.width/this.data.length;this.data.forEach((s,o)=>{const h=s*this.animationProgress*this.height,r=this.x+o*i,l=this.y+this.height-h;t.fillStyle=this.color,t.fillRect(r,l,i*.8,h),t.strokeStyle=this.color,t.lineWidth=1,t.strokeRect(r,l,i*.8,h)})}drawLineChart(t){t.strokeStyle=this.color,t.lineWidth=2,t.beginPath(),this.data.forEach((i,s)=>{const o=i*this.animationProgress,n=this.x+s/(this.data.length-1)*this.width,h=this.y+this.height-o*this.height;s===0?t.moveTo(n,h):t.lineTo(n,h),t.save(),t.fillStyle=this.color,t.beginPath(),t.arc(n,h,3,0,Math.PI*2),t.fill(),t.restore()}),t.stroke()}drawPieChart(t){const i=this.x+this.width/2,s=this.y+this.height/2,o=Math.min(this.width,this.height)/3;let n=0;this.data.forEach((h,r)=>{const l=h/this.data.reduce((c,A)=>c+A,0)*Math.PI*2*this.animationProgress;t.fillStyle=`hsl(${r*60%360}, 70%, 60%)`,t.beginPath(),t.moveTo(i,s),t.arc(i,s,o,n,n+l),t.closePath(),t.fill(),t.strokeStyle=a.colors.background,t.lineWidth=2,t.stroke(),n+=l})}}const R=e=>{if(a.dashboardSpeed===0)return;b.current.animationPhase+=a.dashboardSpeed;const t=e.canvas.width-300,i=20,s=280,o=180;e.save(),e.fillStyle=a.colors.background+"E6",e.fillRect(t,i,s,o),e.strokeStyle=a.colors.dashboard,e.lineWidth=2,e.strokeRect(t,i,s,o),e.font="bold 16px Arial",e.fillStyle=a.colors.primary,e.textAlign="left",e.fillText("Analytics Dashboard",t+15,i+25),e.strokeStyle=a.colors.success,e.lineWidth=2,e.beginPath();const n=20;for(let r=0;r<n;r++){const l=t+15+r/n*(s-30),c=i+50+Math.sin((r+b.current.animationPhase)*.5)*15+Math.sin((r+b.current.animationPhase)*.2)*25;r===0?e.moveTo(l,c):e.lineTo(l,c)}e.stroke(),[{label:"Total Revenue",value:"$24,847",color:a.colors.success},{label:"Active Campaigns",value:"12",color:a.colors.secondary},{label:"Avg. CTR",value:"3.2%",color:a.colors.primary}].forEach((r,l)=>{const c=i+110+l*20;e.font="12px Arial",e.fillStyle=a.colors.metric,e.fillText(r.label,t+15,c),e.font="bold 12px Arial",e.fillStyle=r.color,e.textAlign="right",e.fillText(r.value,t+s-15,c),e.textAlign="left"}),e.restore()},k=e=>{f.current=[],y.current=[];for(let t=0;t<a.metricCount;t++)f.current.push(new v(e));for(let t=0;t<a.chartCount;t++)y.current.push(new S(e))},M=()=>{const e=p.current;if(!e)return;const t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),y.current.forEach(i=>{i.update(),i.draw(t)}),f.current.forEach(i=>{i.update(),i.draw(t)}),R(t),(a.metricSpeed>0||a.chartSpeed>0||a.dashboardSpeed>0)&&(g.current=requestAnimationFrame(M))};return u.useEffect(()=>{const e=p.current;if(!e)return;const t=()=>{const i=e.getBoundingClientRect();e.width=i.width*(m?.pixelRatio||1),e.height=i.height*(m?.pixelRatio||1),e.getContext("2d").scale(m?.pixelRatio||1,m?.pixelRatio||1),k(e)};return t(),window.addEventListener("resize",t),M(),()=>{window.removeEventListener("resize",t),g.current&&cancelAnimationFrame(g.current)}},[a,m]),d?.staticFallback?w.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`linear-gradient(135deg, ${a.colors.primary} 0%, ${a.colors.secondary} 50%, ${a.colors.accent} 100%)`}}):w.jsx("canvas",{ref:p,className:"absolute inset-0 w-full h-full pointer-events-none",style:{background:"transparent",mixBlendMode:"multiply"},"aria-hidden":"true"})},E=P.memo(F);export{E as default};
