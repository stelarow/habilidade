/* LessonHeader Module CSS - Enhanced for smooth scroll behavior */
.lessonHeader {
  /* Ensure header follows scroll behavior and is not fixed */
  position: relative !important;
  transform: translateZ(0);
  will-change: transform, background-color, border-color, box-shadow;
  /* Enable hardware acceleration for smooth animations */
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Ensure progress indicators are properly contained */
.lessonHeader .progress-indicator {
  max-height: 32px;
  max-width: 32px;
}

/* Override any global styles that might make the header fixed */
.lessonHeader[data-lesson-header="true"] {
  position: relative !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
}

/* Ensure proper z-index stacking */
.lessonHeader {
  z-index: 10;
}

/* Enhanced smooth transitions for scroll-based changes */
.lessonHeader {
  /* Remove CSS transitions since we're using Framer Motion for better performance */
  border-bottom: 1px solid transparent;
}

/* Ensure icons are properly sized and aligned */
.lessonHeader svg {
  flex-shrink: 0;
}

/* Performance optimizations for scroll animations */
.lessonHeader * {
  /* Optimize rendering performance */
  transform: translateZ(0);
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .lessonHeader .progress-indicator {
    max-height: 28px;
    max-width: 28px;
  }
}

/* Tablet adjustments */
@media (min-width: 641px) and (max-width: 1024px) {
  .lessonHeader {
    /* Ensure proper spacing on tablets */
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

/* Desktop optimizations */
@media (min-width: 1025px) {
  .lessonHeader {
    /* Enhanced backdrop blur for desktop */
    backdrop-filter: blur(16px);
  }
}

/* High DPI display optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .lessonHeader {
    /* Ensure crisp rendering on high DPI displays */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .lessonHeader {
    /* Disable animations for users who prefer reduced motion */
    will-change: auto;
    transform: none;
  }
}